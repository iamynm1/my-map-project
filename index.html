<div id="map" style="width: 100%; height: 100%; border-radius: 12px;"></div>

<!-- زر الرجوع - خارج Popup الخريطة -->
<button id="backButton" style="position: absolute; top: 20px; left: 20px; z-index: 10; padding: 10px 20px; background-color: #FF6347; color: white; border: none; border-radius: 5px; font-size: 16px;">رجوع</button>

<script src="https://api.mapbox.com/mapbox-gl-js/v2.14.1/mapbox-gl.js"></script>
<link href="https://api.mapbox.com/mapbox-gl-js/v2.14.1/mapbox-gl.css" rel="stylesheet" />

<script>
  mapboxgl.accessToken = 'pk.eyJ1IjoiaWFteW5tMSIsImEiOiJjbTk2cDB1N3MxajgyMmlzOHlqYTF2azZkIn0.V9hW--r158RVkU9FBiXmuQ';

  const map = new mapboxgl.Map({
    container: 'map',
    style: 'mapbox://styles/mapbox/streets-v11',
    center: [39.6125, 24.4545],
    zoom: 13
  });

  document.getElementById('backButton').addEventListener('click', function() {
    window.location.href = "https://chocolate-core-810452.framer.app/";
  });

  const waqfLocations = [
    {
      title: "مسجد قباء",
      coords: [39.6167, 24.4442],
      link: "https://framer.com/projects/waqfmap--5tScA6xhwUZO6n9ZXiqf-7gxDf?node=augiA20Il"
    },
    {
      title: "مسجد الغمامة",
      coords: [39.6083, 24.4649],
      link: "https://framer.com/projects/waqfmap--5tScA6xhwUZO6n9ZXiqf-7gxDf?node=augiA20Il"
    }
  ];

  waqfLocations.forEach(waqf => {
    const marker = new mapboxgl.Marker()
      .setLngLat(waqf.coords)
      .setPopup(new mapboxgl.Popup().setHTML(`
        <div style="font-family: sans-serif; text-align: right; max-width: 250px;">
          <h3 style="margin: 0 0 10px;">${waqf.title}</h3>
          <a href="${waqf.link}" target="_blank" style="font-size: 16px; color: #007AFF; text-decoration: none; display: flex; align-items: center;">
            <span>انتقل إلى التفاصيل</span>
            <span style="margin-left: 5px; font-size: 18px; font-weight: bold;">→</span>
          </a>
        </div>
      `))
      .addTo(map);
  });
</script>
