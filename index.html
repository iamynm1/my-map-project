<div id="map" style="width: 100%; height: 100%; border-radius: 12px;"></div>

<!-- زر الرجوع - خارج Popup الخريطة -->
<button id="backButton" style="position: absolute; top: 20px; left: 20px; z-index: 10; padding: 10px 20px; background-color: #FF6347; color: white; border: none; border-radius: 5px; font-size: 16px;">رجوع</button>

<script src="https://api.mapbox.com/mapbox-gl-js/v2.14.1/mapbox-gl.js"></script>
<link href="https://api.mapbox.com/mapbox-gl-js/v2.14.1/mapbox-gl.css" rel="stylesheet" />

<script>
  mapboxgl.accessToken = 'pk.eyJ1IjoiaWFteW5tMSIsImEiOiJjbTk2cDB1N3MxajgyMmlzOHlqYTF2azZkIn0.V9hW--r158RVkU9FBiXmuQ'; // التوكن تم إضافته

  const map = new mapboxgl.Map({
    container: 'map',
    style: 'mapbox://styles/mapbox/streets-v11', // ستايل الشوارع العادي
    center: [39.6125, 24.4545], // مركز الخريطة بين النقاط
    zoom: 13 // الزوم المناسب
  });

  // إضافة الرابط إلى زر "رجوع"
  document.getElementById('backButton').addEventListener('click', function() {
    window.location.href = "https://www.figma.com/proto/OxGXEXOKJRcNAttlniSDPY/waqf-map?node-id=13-3&t=xjCgwYFCHPYHpNKV-0&scaling=scale-down&content-scaling=fixed&page-id=0%3A1"; // رابط العودة إلى صفحة Figma
  });

  const waqfLocations = [
    {
      title: "مسجد قباء",
      coords: [39.6167, 24.4442],
      link: "https://lower-support-321241.framer.app/waqf2" // رابط تفاصيل مسجد قباء
    },
    {
      title: "مسجد الغمامة",
      coords: [39.6083, 24.4649],
      link: "https://lower-support-321241.framer.app/waqf1" // رابط تفاصيل مسجد الغمامة
    }
  ];

  waqfLocations.forEach(waqf => {
    const marker = new mapboxgl.Marker()
      .setLngLat(waqf.coords)
      .setPopup(new mapboxgl.Popup().setHTML(`
        <div style="font-family: sans-serif; text-align: right;">
          <h3>${waqf.title}</h3>
          <a href="${waqf.link}" target="_blank" style="color: #007AFF;">عرض التفاصيل</a>
        </div>
      `))
      .addTo(map);
  });
</script>
